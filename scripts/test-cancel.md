# キャンセル機能テスト手順

## 確認が必要な情報

1. **LINEで「キャンセル」と送信したとき、どうなりますか？**
   - [ ] 何も反応がない
   - [ ] エラーメッセージが返ってくる
   - [ ] 「予約が見つかりません」というメッセージが返ってくる
   - [ ] 別のメッセージ（自動返信）が返ってくる
   - [ ] その他：_______________________

2. **申込は正常にできていますか？**
   - [ ] はい、申込は完了している
   - [ ] いいえ、申込もできない

3. **組織IDは何ですか？**
   - テスト用の組織ID: _______________________

## 次のステップ

上記の情報を確認して、原因を特定します。

### 考えられる原因

1. **Firestoreインデックスが未作成**
   - `getLatestApplication()`が`orderBy('slotAt', 'asc')`を使用
   - `userId`, `status`, `organizationId`, `slotAt`の複合インデックスが必要

2. **自動返信が優先されている**
   - 「キャンセル」トリガーの自動返信が設定されている場合、それが先に実行される

3. **Webhook URLが古い**
   - LINE Developers ConsoleのWebhook URLが更新されていない

4. **申込データの形式が違う**
   - `organizationId`フィールドが設定されていない古いデータ

5. **LINE Webhook署名検証エラー**
   - 組織のChannelSecretが間違っている
