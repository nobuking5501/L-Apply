# LINE Developers è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€L-Apply ã‚·ã‚¹ãƒ†ãƒ ã«å¿…è¦ãª LINE ã®è¨­å®šã‚’**ã‚¼ãƒ­ã‹ã‚‰**èª¬æ˜Žã—ã¾ã™ã€‚

## ðŸ“‹ ç›®æ¬¡

1. [LINE Developers ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ](#1-line-developers-ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ)
2. [ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä½œæˆ](#2-ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä½œæˆ)
3. [Messaging API ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ](#3-messaging-api-ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ)
4. [å¿…è¦ãªæƒ…å ±ã‚’å–å¾—](#4-å¿…è¦ãªæƒ…å ±ã‚’å–å¾—)
5. [LIFF ã‚¢ãƒ—ãƒªä½œæˆ](#5-liff-ã‚¢ãƒ—ãƒªä½œæˆ)
6. [Webhook è¨­å®š](#6-webhook-è¨­å®š)
7. [ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ](#7-ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ)
8. [å‹•ä½œç¢ºèª](#8-å‹•ä½œç¢ºèª)

---

## 1. LINE Developers ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

### æ‰‹é †

1. **LINE Developers Console ã«ã‚¢ã‚¯ã‚»ã‚¹**
   - URL: https://developers.line.biz/console/

2. **LINE ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³**
   - å€‹äººã® LINE ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
   - ãƒ“ã‚¸ãƒã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒãªã‘ã‚Œã°ã€å€‹äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§OK

3. **åˆå›žãƒ­ã‚°ã‚¤ãƒ³æ™‚**
   - åˆ©ç”¨è¦ç´„ã«åŒæ„
   - é–‹ç™ºè€…æƒ…å ±ã‚’å…¥åŠ›ï¼ˆä»»æ„ï¼‰

---

## 2. ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä½œæˆ

ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¯ã€ã‚ãªãŸã®ä¼šç¤¾ã‚„çµ„ç¹”ã‚’è¡¨ã—ã¾ã™ã€‚

### æ‰‹é †

1. **ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**
   - LINE Developers Console ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã§ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯

2. **ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åã‚’å…¥åŠ›**
   ```
   ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å: ä»»æ„ã®åå‰ï¼ˆä¾‹: "My Company"ï¼‰
   ```
   - ã“ã®åå‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“

3. **ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

---

## 3. Messaging API ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ

ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã€LINE ãƒœãƒƒãƒˆã®å®Ÿä½“ã§ã™ã€‚

### æ‰‹é †

1. **ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’é¸æŠž**
   - ä½œæˆã—ãŸãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯

2. **ã€Œæ–°è¦ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯**
   - ã€ŒMessaging APIã€ã‚’é¸æŠž

3. **ãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±ã‚’å…¥åŠ›**

   ```
   ã€å¿…é ˆé …ç›®ã€‘
   ãƒãƒ£ãƒ³ãƒãƒ«å: L-Applyï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹åå‰ï¼‰
   ãƒãƒ£ãƒ³ãƒãƒ«èª¬æ˜Ž: ã‚¤ãƒ™ãƒ³ãƒˆç”³è¾¼ã‚·ã‚¹ãƒ†ãƒ 
   å¤§æ¥­ç¨®: é©åˆ‡ãªã‚‚ã®ã‚’é¸æŠžï¼ˆä¾‹: ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
   å°æ¥­ç¨®: é©åˆ‡ãªã‚‚ã®ã‚’é¸æŠžï¼ˆä¾‹: ãã®ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼‰

   ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘
   ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ã‚ãªãŸã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
   ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼URL: ï¼ˆã‚ã‚Œã°ï¼‰
   åˆ©ç”¨è¦ç´„URL: ï¼ˆã‚ã‚Œã°ï¼‰
   ```

4. **åˆ©ç”¨è¦ç´„ã«åŒæ„**
   - 3ã¤ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã™ã¹ã¦ã«ãƒã‚§ãƒƒã‚¯

5. **ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

---

## 4. å¿…è¦ãªæƒ…å ±ã‚’å–å¾—

ä½œæˆã—ãŸãƒãƒ£ãƒ³ãƒãƒ«ã‹ã‚‰ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

### 4.1 Channel ID ã¨ Channel Secret

1. **ã€Œãƒãƒ£ãƒ³ãƒãƒ«åŸºæœ¬è¨­å®šã€ã‚¿ãƒ–ã‚’é–‹ã**

2. **æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼**
   ```
   âœ… Channel ID: 10æ¡ã®æ•°å­—ï¼ˆä¾‹: 1234567890ï¼‰
   âœ… Channel Secret: 32æ–‡å­—ã®è‹±æ•°å­—
   ```
   - ã€ŒChannel Secretã€ã®ã€Œç™ºè¡Œã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦å–å¾—
   - **ãƒ¡ãƒ¢å¸³ãªã©ã«ä¿å­˜ã—ã¦ãŠã**

### 4.2 Channel Access Token

1. **ã€ŒMessaging APIè¨­å®šã€ã‚¿ãƒ–ã‚’é–‹ã**

2. **ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã€Œãƒãƒ£ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹**

3. **ã€Œç™ºè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**
   ```
   âœ… Channel Access Token: é•·ã„æ–‡å­—åˆ—ï¼ˆ170æ–‡å­—ç¨‹åº¦ï¼‰
   ```
   - **ãƒ¡ãƒ¢å¸³ãªã©ã«ä¿å­˜ã—ã¦ãŠã**
   - âš ï¸ ã“ã®å€¤ã¯äºŒåº¦ã¨è¡¨ç¤ºã•ã‚Œãªã„ã®ã§æ³¨æ„ï¼

### 4.3 QRã‚³ãƒ¼ãƒ‰ã¨Basic ID

1. **ã€ŒMessaging APIè¨­å®šã€ã‚¿ãƒ–ã§ç¢ºèª**
   ```
   âœ… QRã‚³ãƒ¼ãƒ‰: å‹ã ã¡è¿½åŠ ç”¨
   âœ… Basic ID: @ã§å§‹ã¾ã‚‹IDï¼ˆä¾‹: @123abcdeï¼‰
   ```

---

## 5. LIFF ã‚¢ãƒ—ãƒªä½œæˆ

LIFF ã¯ã€LINE å†…ã§å‹•ãã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã§ã™ã€‚

### æ‰‹é †

1. **ã€ŒLIFFã€ã‚¿ãƒ–ã‚’é–‹ã**
   - ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šç”»é¢ã®ä¸Šéƒ¨ã‚¿ãƒ–

2. **ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**

3. **LIFF ã‚¢ãƒ—ãƒªæƒ…å ±ã‚’å…¥åŠ›**

   ```
   ã€å¿…é ˆé …ç›®ã€‘
   LIFFã‚¢ãƒ—ãƒªå: L-Apply ç”³è¾¼ãƒ•ã‚©ãƒ¼ãƒ 
   ã‚µã‚¤ã‚º: Full
   ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL: https://l-apply.web.app/liff/apply
   Scope:
     â˜‘ profile
     â˜‘ openid
   ãƒœãƒƒãƒˆãƒªãƒ³ã‚¯æ©Ÿèƒ½: Off ã®ã¾ã¾
   ```

4. **ã€Œè¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

5. **LIFF ID ã‚’ã‚³ãƒ”ãƒ¼**
   ```
   âœ… LIFF ID: 1234567890-abcdefghï¼ˆä¾‹ï¼‰
   ```
   - ä½œæˆå¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹ LIFF ID ã‚’ãƒ¡ãƒ¢

### âš ï¸ æ³¨æ„ï¼šã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã«ã¤ã„ã¦

- åˆå›žã¯ä»®ã®URLã‚’å…¥åŠ›ã—ã¦ã‚‚OK
- Firebase ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€æ­£ã—ã„URLã«æ›´æ–°ã™ã‚‹

---

## 6. Webhook è¨­å®š

Webhook ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚‹è¨­å®šã§ã™ã€‚

### æ‰‹é †

1. **ã€ŒMessaging APIè¨­å®šã€ã‚¿ãƒ–ã‚’é–‹ã**

2. **Webhook URL ã‚’è¨­å®š**

   #### ðŸ”¸ ã¾ã ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ãªã„å ´åˆ

   ```
   Webhook URL: ï¼ˆç©ºæ¬„ã®ã¾ã¾ï¼‰
   ```
   - ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã«è¨­å®šã—ã¾ã™

   #### ðŸ”¸ ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿ã®å ´åˆ

   ```
   Webhook URL: https://asia-northeast1-l-apply.cloudfunctions.net/webhook
   ```
   - å…¥åŠ›å¾Œã€ã€Œæ¤œè¨¼ã€ãƒœã‚¿ãƒ³ã§æŽ¥ç¶šç¢ºèª

3. **Webhook ã®åˆ©ç”¨ã‚’ã€Œã‚ªãƒ³ã€ã«ã™ã‚‹**
   ```
   Webhookã®åˆ©ç”¨: ã‚ªãƒ³ï¼ˆç·‘è‰²ï¼‰
   ```

4. **å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€Œã‚ªãƒ•ã€ã«ã™ã‚‹**
   ```
   å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã‚ªãƒ•ï¼ˆã‚°ãƒ¬ãƒ¼ï¼‰
   ```
   - ã“ã‚Œã‚’ã‚ªãƒ•ã«ã—ãªã„ã¨ã€è‡ªå‹•å¿œç­”ã¨ãƒœãƒƒãƒˆã®ä¸¡æ–¹ãŒåå¿œã—ã¦ã—ã¾ã†

5. **ã‚ã„ã•ã¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚ã€Œã‚ªãƒ•ã€æŽ¨å¥¨**
   ```
   ã‚ã„ã•ã¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã‚ªãƒ•
   ```

---

## 7. ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ

ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ã€ãƒˆãƒ¼ã‚¯ç”»é¢ä¸‹éƒ¨ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã™ã€‚

### æ–¹æ³•1: LINE Official Account Manager ã§ä½œæˆï¼ˆæŽ¨å¥¨ï¼‰

1. **LINE Official Account Manager ã«ã‚¢ã‚¯ã‚»ã‚¹**
   - URL: https://manager.line.biz/
   - åŒã˜ LINE ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³

2. **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠž**
   - ä½œæˆã—ãŸãƒœãƒƒãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠž

3. **ã€Œãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã‚’é¸æŠž**
   - å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**

5. **ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼æƒ…å ±ã‚’å…¥åŠ›**

   ```
   ã‚¿ã‚¤ãƒˆãƒ«: ç”³è¾¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆç®¡ç†ç”¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¡¨ç¤ºã•ã‚Œãªã„ï¼‰
   è¡¨ç¤ºæœŸé–“: å¸¸ã«è¡¨ç¤º

   ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠžã€‘
   - ä¾‹: å¤§ï¼ˆ1åˆ†å‰²ï¼‰ã‚’é¸æŠž

   ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¨­å®šã€‘
   ã‚¿ã‚¤ãƒ—: ãƒªãƒ³ã‚¯
   URL: https://liff.line.me/YOUR_LIFF_ID
   ```

   - `YOUR_LIFF_ID` ã¯ã€æ‰‹é †5ã§ãƒ¡ãƒ¢ã—ãŸ LIFF ID ã«ç½®ãæ›ãˆ

6. **ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**
   ```
   ã‚µã‚¤ã‚º: 2500 x 1686px ã¾ãŸã¯ 2500 x 843px
   å½¢å¼: JPG ã¾ãŸã¯ PNG
   ```

   - ç°¡å˜ãªç”»åƒãªã‚‰ Canva ãªã©ã§ä½œæˆå¯èƒ½
   - ã€Œç”³è¾¼ã€ãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥ã‚Œã‚‹

7. **ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

8. **ã€Œé©ç”¨ã€ã‚’ã‚¯ãƒªãƒƒã‚¯**
   - ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æœ‰åŠ¹åŒ–

### æ–¹æ³•2: Messaging API ã§ä½œæˆï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰

```bash
# cURLã‚³ãƒžãƒ³ãƒ‰ã§ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œæˆ
curl -X POST https://api.line.me/v2/bot/richmenu \
  -H "Authorization: Bearer YOUR_CHANNEL_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "size": {"width": 2500, "height": 1686},
    "selected": true,
    "name": "ç”³è¾¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "chatBarText": "ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "areas": [
      {
        "bounds": {"x": 0, "y": 0, "width": 2500, "height": 1686},
        "action": {
          "type": "uri",
          "uri": "https://liff.line.me/YOUR_LIFF_ID"
        }
      }
    ]
  }'
```

---

## 8. å‹•ä½œç¢ºèª

### 8.1 å‹ã ã¡è¿½åŠ 

1. **QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³**
   - Messaging APIè¨­å®šã‚¿ãƒ–ã«ã‚ã‚‹QRã‚³ãƒ¼ãƒ‰
   - ã¾ãŸã¯ Basic ID ã§æ¤œç´¢

2. **ãƒœãƒƒãƒˆã‚’å‹ã ã¡è¿½åŠ **

### 8.2 ãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

1. **ãƒˆãƒ¼ã‚¯ç”»é¢ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡**
   ```
   äºˆç´„ç¢ºèª
   ```

2. **ãƒœãƒƒãƒˆã‹ã‚‰ã®è¿”ä¿¡ã‚’ç¢ºèª**
   - Webhook ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚Œã°è¿”ä¿¡ãŒã‚ã‚‹
   - è¨­å®šå‰ã¯åå¿œãªã—ï¼ˆæ­£å¸¸ï¼‰

### 8.3 LIFF ã‚¢ãƒ—ãƒªèµ·å‹•

1. **ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¿ãƒƒãƒ—**
   - ãƒˆãƒ¼ã‚¯ç”»é¢ä¸‹éƒ¨ã®ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼

2. **LIFF ã‚¢ãƒ—ãƒªãŒé–‹ãã“ã¨ã‚’ç¢ºèª**
   - ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã¯ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆæ­£å¸¸ï¼‰

---

## ðŸ“ å–å¾—ã—ãŸæƒ…å ±ã®ã¾ã¨ã‚

ã™ã¹ã¦ã®è¨­å®šãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã®æƒ…å ±ãŒæƒã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```
âœ… Channel ID: __________________
âœ… Channel Secret: __________________
âœ… Channel Access Token: __________________
âœ… LIFF ID: __________________
âœ… Basic ID: __________________
```

---

## ðŸ”§ Firebase ç’°å¢ƒå¤‰æ•°ã¸ã®è¨­å®š

å–å¾—ã—ãŸæƒ…å ±ã‚’ Firebase Functions ã«è¨­å®šã—ã¾ã™ã€‚

### Next.js ç’°å¢ƒå¤‰æ•° (.env.local)

```bash
# .env.local ã‚’ä½œæˆ
cp .env.sample .env.local
```

`.env.local` ã‚’ç·¨é›†ï¼š

```env
NEXT_PUBLIC_LIFF_ID=YOUR_LIFF_ID_HERE
NEXT_PUBLIC_APP_NAME=L-Apply
NEXT_PUBLIC_APPLY_API_URL=https://asia-northeast1-l-apply.cloudfunctions.net/apply
```

### Firebase Functions Secrets

```bash
# LINE Channel Access Token ã‚’è¨­å®š
firebase functions:secrets:set LINE_CHANNEL_ACCESS_TOKEN
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ Channel Access Token ã‚’å…¥åŠ›

# LINE Channel Secret ã‚’è¨­å®š
firebase functions:secrets:set LINE_CHANNEL_SECRET
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ Channel Secret ã‚’å…¥åŠ›

# LIFF ID ã‚’è¨­å®š
firebase functions:secrets:set LIFF_ID
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ LIFF ID ã‚’å…¥åŠ›
```

ã¾ãŸã¯ã€é–‹ç™ºç’°å¢ƒã§ã¯ `functions/.env` ã‚’ä½œæˆï¼š

```bash
cd functions
cat > .env << 'EOF'
LINE_CHANNEL_ACCESS_TOKEN=your_channel_access_token_here
LINE_CHANNEL_SECRET=your_channel_secret_here
LIFF_ID=your_liff_id_here
APP_BASE_URL=https://l-apply.web.app
EOF
cd ..
```

---

## âš ï¸ ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼

### ã‚¨ãƒ©ãƒ¼1: Webhook æ¤œè¨¼ãŒå¤±æ•—ã™ã‚‹

**åŽŸå› **: Functions ãŒã¾ã ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
- å…ˆã« Firebase Functions ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
- ãã®å¾Œ Webhook URL ã‚’è¨­å®š

### ã‚¨ãƒ©ãƒ¼2: LIFF ãŒé–‹ã‹ãªã„

**åŽŸå› **: Endpoint URL ãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºç­–**:
- LIFFè¨­å®šã§ Endpoint URL ã‚’ç¢ºèª
- `https://l-apply.web.app/liff/apply` ã«ãªã£ã¦ã„ã‚‹ã‹

### ã‚¨ãƒ©ãƒ¼3: ãƒœãƒƒãƒˆãŒå¿œç­”ã—ãªã„

**åŽŸå› **: Webhook ã®åˆ©ç”¨ãŒã‚ªãƒ•ã€ã¾ãŸã¯å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ªãƒ³

**è§£æ±ºç­–**:
- Messaging APIè¨­å®šã§ä»¥ä¸‹ã‚’ç¢ºèªï¼š
  - Webhook ã®åˆ©ç”¨: **ã‚ªãƒ³**
  - å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: **ã‚ªãƒ•**

### ã‚¨ãƒ©ãƒ¼4: å‹ã ã¡è¿½åŠ ã§ããªã„

**åŽŸå› **: ãƒãƒ£ãƒ³ãƒãƒ«ãŒéžå…¬é–‹ã«ãªã£ã¦ã„ã‚‹

**è§£æ±ºç­–**:
- ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šã§å…¬é–‹è¨­å®šã‚’ç¢ºèª
- LINE Official Account Manager ã§å…¬é–‹ã™ã‚‹

---

## ðŸŽ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

LINE ã®è¨­å®šãŒå®Œäº†ã—ãŸã‚‰ï¼š

1. [DEPLOYMENT.md](./DEPLOYMENT.md) ã‚’å‚ç…§ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
2. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€Webhook URL ã‚’æ›´æ–°
3. å‹•ä½œç¢ºèª

---

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

å›°ã£ãŸã¨ãã¯ï¼š

1. LINE Developers ã®[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developers.line.biz/ja/docs/)ã‚’ç¢ºèª
2. [LINE Developers Community](https://www.line-community.me/)ã§è³ªå•
3. Firebase Console ã®ãƒ­ã‚°ã‚’ç¢ºèª

---

**ã“ã®ã‚¬ã‚¤ãƒ‰ã§ LINE ã®è¨­å®šãŒå®Œäº†ã—ã¾ã™ï¼** ðŸŽ‰

æ¬¡ã¯ [DEPLOYMENT.md](./DEPLOYMENT.md) ã§ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã—ã‚‡ã†ã€‚
